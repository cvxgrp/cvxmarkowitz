Search.setIndex({"docnames": ["autoapi/index", "autoapi/simulator/builder/index", "autoapi/simulator/grid/index", "autoapi/simulator/index", "autoapi/simulator/metrics/index", "autoapi/simulator/month/index", "autoapi/simulator/portfolio/index", "autoapi/simulator/trading_costs/index", "index", "license"], "filenames": ["autoapi/index.rst", "autoapi/simulator/builder/index.rst", "autoapi/simulator/grid/index.rst", "autoapi/simulator/index.rst", "autoapi/simulator/metrics/index.rst", "autoapi/simulator/month/index.rst", "autoapi/simulator/portfolio/index.rst", "autoapi/simulator/trading_costs/index.rst", "index.rst", "license.rst"], "titles": ["API Reference", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">simulator.builder</span></code>", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">simulator.grid</span></code>", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">simulator</span></code>", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">simulator.metrics</span></code>", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">simulator.month</span></code>", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">simulator.portfolio</span></code>", "<code class=\"xref py py-mod docutils literal notranslate\"><span class=\"pre\">simulator.trading_costs</span></code>", "API Documentation", "License"], "terms": {"thi": [0, 1, 6], "page": 0, "contain": [0, 1, 6], "auto": 0, "gener": 0, "document": 0, "1": [0, 1, 6], "simul": [0, 8], "builder": [0, 3], "grid": [0, 3], "metric": [0, 3], "month": [0, 2, 3], "portfolio": [0, 1, 2, 3, 4], "trading_cost": [0, 1, 3, 6], "creat": [0, 1, 6, 7], "sphinx": 0, "autoapi": 0, "_state": 1, "sourc": [1, 2, 4, 5, 6, 7], "The": [1, 2, 6], "defin": 1, "state": 1, "object": [1, 2, 6], "us": [1, 2, 6, 7], "keep": [1, 2], "track": 1, "current": [1, 6], "attribut": [1, 6], "price": [1, 6, 7], "panda": [1, 2, 4, 5, 6], "seri": [1, 4, 5, 6], "stock": [1, 6, 7], "posit": [1, 2, 6], "hold": [1, 6], "cash": [1, 6], "amount": 1, "avail": [1, 6], "By": 1, "default": [1, 6], "ar": [1, 2, 6], "set": [1, 6], "none": [1, 6], "while": [1, 2], "million": 1, "These": 1, "can": 1, "updat": 1, "access": 1, "through": 1, "setter": 1, "getter": 1, "method": [1, 6], "float": [1, 6, 7], "1000000": [1, 6], "0": [1, 6, 7], "properti": [1, 4, 6], "valu": [1, 2, 6], "self": [1, 4, 6, 7], "comput": [1, 4, 6], "time": [1, 6], "take": [1, 2, 6], "account": [1, 6], "return": [1, 2, 5, 6], "If": [1, 6], "cannot": 1, "due": [1, 6], "miss": [1, 6], "thei": 1, "might": 1, "still": [1, 2], "zero": [1, 6], "instead": 1, "decor": 1, "base": [1, 6, 7], "were": 1, "product": 1, "sum": [1, 6], "togeth": 1, "note": [1, 2, 6], "multipl": [1, 6], "rais": [1, 6], "typeerror": 1, "In": 1, "case": 1, "nav": [1, 6], "net": 1, "asset": [1, 6, 7], "which": [1, 6], "determin": 1, "weight": [1, 6], "each": [1, 6], "fraction": 1, "total": [1, 4, 6], "divid": [1, 6], "repres": [1, 6], "alloc": 1, "particular": [1, 2], "same": [1, 2, 6], "size": 1, "leverag": 1, "absolut": 1, "exposur": 1, "position_robust": 1, "model": [1, 6], "kwarg": [1, 7], "new": [1, 6], "input": [1, 2, 6], "It": [1, 2, 6], "calcul": [1, 5, 6], "trade": [1, 6, 7], "made": [1, 6], "previou": [1, 6], "intern": 1, "appli": 1, "ani": [1, 6], "applic": [1, 2], "cost": [1, 6, 7], "accord": 1, "paramet": [1, 2, 5, 6], "three": 1, "an": [1, 2, 6, 7], "option": [1, 6], "e": [1, 2, 7], "g": [1, 2, 7], "slippag": 1, "fee": 1, "incorpor": 1, "addit": [1, 6, 7], "keyword": 1, "argument": [1, 6, 7], "pass": 1, "instanc": [1, 6], "differ": [1, 6], "between": [1, 6], "old": 1, "after": [1, 6], "doe": [1, 2, 6], "market_cap": 1, "trade_volum": 1, "initial_cash": [1, 6], "trading_cost_model": [1, 6], "max_cap_fract": 1, "min_cap_fract": 1, "max_trade_fract": 1, "min_trade_fract": 1, "_builder": 1, "construct": [1, 2, 6], "datafram": [1, 2, 5, 6], "histor": 1, "initi": [1, 6], "first": [1, 6], "assert": [1, 6], "ha": [1, 6], "monoton": [1, 6], "increas": [1, 6], "uniqu": [1, 6], "index": [1, 2, 6], "number": [1, 6, 7], "share": [1, 2, 6], "own": 1, "step": 1, "forward": [1, 2, 6], "fill": [1, 2, 6], "provid": [1, 6, 7], "set_weight": 1, "final": 1, "output": 1, "cvx": [1, 6], "tradingcostmodel": [1, 6, 7], "__post_init__": [1, 4, 6], "special": 1, "call": [1, 6], "equal": 1, "often": 1, "python": 1, "routin": 1, "onli": [1, 2, 6], "perform": [1, 5, 6], "fulli": 1, "automat": 1, "A": [1, 6], "period": [1, 6], "data": [1, 6], "pd": [1, 6], "extract": [1, 6], "result": [1, 6], "length": [1, 6], "row": [1, 6], "list": [1, 6], "held": [1, 6], "column": [1, 6], "name": [1, 6], "correspond": [1, 6], "all": [1, 6], "without": [1, 6], "duplic": [1, 6], "via": 1, "set_cashposit": 1, "cashposit": 1, "usd": 1, "invest": [1, 6], "per": [1, 7], "set_posit": 1, "__iter__": 1, "allow": [1, 6], "iter": 1, "over": [1, 2, 6], "loop": 1, "yield": 1, "date": [1, 6], "seen": 1, "so": 1, "far": 1, "exclud": 1, "tupl": 1, "interv": 1, "datetimeindex": [1, 2], "__setitem__": 1, "specif": [1, 6], "check": [1, 6], "valid": [1, 6], "mean": [1, 4, 6], "its": [1, 6], "within": 1, "two": [1, 6], "given": [1, 7], "assertionerror": 1, "subset": [1, 6], "__getitem__": [1, 6], "retriev": [1, 6], "one": [1, 6], "must": [1, 6], "otherwis": [1, 6], "keyerror": [1, 6], "build": 1, "equityportfolio": [1, 6], "specifi": [1, 2, 6], "simpli": 1, "have": [1, 6], "from": [1, 2, 6], "wa": 1, "built": 1, "iron_fram": 2, "frame": 2, "rule": [2, 6], "constant": [2, 6], "coarser": 2, "iron": 2, "resample_index": 2, "resampl": [2, 6], "lower": 2, "frequenc": [2, 6], "modifi": [2, 6], "rather": [2, 6], "_project_frame_to_grid": 2, "project_frame_to_grid": 2, "project": 2, "would": 2, "monthli": [2, 5], "rebalanc": 2, "dai": [2, 6], "we": 2, "adjust": 2, "rest": 2, "exist": 2, "finer": [2, 6], "coars": 2, "chang": [2, 6], "daily_profit": 4, "days_per_year": 4, "int": 4, "252": 4, "total_profit": 4, "profit": [4, 6], "mean_profit": 4, "daili": 4, "std_profit": 4, "standard": [4, 7], "deviat": 4, "sr_profit": 4, "sharp": 4, "ratio": [4, 6], "popular": 5, "year": 5, "vs": [5, 6], "tabl": 5, "_compound": 5, "ret": 5, "helper": [5, 7], "compound": 5, "monthlyt": 5, "get": 5, "individu": 5, "stdev": 5, "ytd": 5, "diff": 6, "portfolio1": 6, "portfolio2": 6, "equiti": 6, "well": 6, "type": 6, "variou": 6, "when": 6, "scalar": 6, "design": 6, "where": 6, "assum": 6, "000": 6, "post_init": 6, "been": 6, "ensur": 6, "expect": 6, "format": 6, "both": 6, "respect": 6, "fail": 6, "error": 6, "dimens": 6, "show": 6, "rel": 6, "point": 6, "incur": 6, "trades_stock": 6, "multipli": 6, "nan": 6, "term": 6, "bought": 6, "sold": 6, "trades_curr": 6, "currenc": 6, "ffill": 6, "turnov": 6, "hand": 6, "subtract": 6, "cumul": 6, "cumsum": 6, "along": 6, "axi": 6, "how": 6, "much": 6, "monei": 6, "further": 6, "s": 6, "gain": 6, "lost": 6, "previous": 6, "highwat": 6, "high": 6, "water": 6, "mark": 6, "highest": 6, "reach": 6, "roll": 6, "maximum": 6, "start": 6, "begin": 6, "being": 6, "consid": 6, "min_period": 6, "includ": 6, "minimum": 6, "drawdown": 6, "measur": 6, "declin": 6, "worth": 6, "less": 6, "than": 6, "impli": 6, "9": 6, "__mul__": 6, "arg": 6, "mul": 6, "decreas": 6, "accordingli": 6, "origin": 6, "addition": 6, "maintain": 6, "__rmul__": 6, "revers": 6, "order": 6, "rmul": 6, "__add__": 6, "port_new": 6, "reset_pric": 6, "truncat": 6, "befor": 6, "also": 6, "accept": 6, "rang": 6, "version": 6, "similarli": 6, "match": 6, "param": 6, "copi": 6, "abc": 7, "wai": 7, "inherit": 7, "abstract": 7, "eval": 7, "evalu": 7, "volatil": 7, "liquid": 7, "spread": 7, "etc": 7, "linearcostmodel": 7, "factor": 7, "bia": 7, "licens": 8, "refer": 8, "submodul": 8, "copyright": 9, "c": 9, "2023": 9, "stanford": 9, "univers": 9, "convex": 9, "optim": 9, "group": 9}, "objects": {"": [[3, 0, 0, "-", "simulator"]], "simulator": [[1, 0, 0, "-", "builder"], [2, 0, 0, "-", "grid"], [4, 0, 0, "-", "metrics"], [5, 0, 0, "-", "month"], [6, 0, 0, "-", "portfolio"], [7, 0, 0, "-", "trading_costs"]], "simulator.builder": [[1, 1, 1, "", "_Builder"], [1, 1, 1, "", "_State"], [1, 4, 1, "", "builder"]], "simulator.builder._Builder": [[1, 2, 1, "", "__getitem__"], [1, 2, 1, "", "__iter__"], [1, 2, 1, "", "__post_init__"], [1, 2, 1, "", "__setitem__"], [1, 3, 1, "", "_state"], [1, 2, 1, "", "assets"], [1, 2, 1, "", "build"], [1, 2, 1, "", "index"], [1, 3, 1, "", "initial_cash"], [1, 3, 1, "", "market_cap"], [1, 3, 1, "", "max_cap_fraction"], [1, 3, 1, "", "max_trade_fraction"], [1, 3, 1, "", "min_cap_fraction"], [1, 3, 1, "", "min_trade_fraction"], [1, 3, 1, "", "prices"], [1, 2, 1, "", "set_cashposition"], [1, 2, 1, "", "set_position"], [1, 2, 1, "", "set_weights"], [1, 3, 1, "", "stocks"], [1, 3, 1, "", "trade_volume"], [1, 3, 1, "", "trading_cost_model"]], "simulator.builder._State": [[1, 3, 1, "", "cash"], [1, 2, 1, "", "leverage"], [1, 2, 1, "", "nav"], [1, 3, 1, "", "position"], [1, 2, 1, "", "position_robust"], [1, 3, 1, "", "prices"], [1, 2, 1, "", "update"], [1, 2, 1, "", "value"], [1, 2, 1, "", "weights"]], "simulator.grid": [[2, 4, 1, "", "_project_frame_to_grid"], [2, 4, 1, "", "iron_frame"], [2, 4, 1, "", "resample_index"]], "simulator.metrics": [[4, 1, 1, "", "Metrics"]], "simulator.metrics.Metrics": [[4, 2, 1, "", "__post_init__"], [4, 3, 1, "", "daily_profit"], [4, 3, 1, "", "days_per_year"], [4, 2, 1, "", "mean_profit"], [4, 2, 1, "", "sr_profit"], [4, 2, 1, "", "std_profit"], [4, 2, 1, "", "total_profit"]], "simulator.month": [[5, 4, 1, "", "_compound"], [5, 4, 1, "", "monthlytable"]], "simulator.portfolio": [[6, 1, 1, "", "EquityPortfolio"], [6, 4, 1, "", "diff"]], "simulator.portfolio.EquityPortfolio": [[6, 2, 1, "", "__add__"], [6, 2, 1, "", "__getitem__"], [6, 2, 1, "", "__mul__"], [6, 2, 1, "", "__post_init__"], [6, 2, 1, "", "__rmul__"], [6, 2, 1, "", "assets"], [6, 2, 1, "", "cash"], [6, 2, 1, "", "drawdown"], [6, 2, 1, "", "equity"], [6, 2, 1, "", "highwater"], [6, 2, 1, "", "index"], [6, 3, 1, "id3", "initial_cash"], [6, 2, 1, "", "nav"], [6, 3, 1, "id0", "prices"], [6, 2, 1, "", "profit"], [6, 2, 1, "", "resample"], [6, 2, 1, "", "reset_prices"], [6, 3, 1, "id1", "stocks"], [6, 2, 1, "", "trades_currency"], [6, 2, 1, "", "trades_stocks"], [6, 3, 1, "id2", "trading_cost_model"], [6, 2, 1, "", "trading_costs"], [6, 2, 1, "", "truncate"], [6, 2, 1, "", "turnover"], [6, 2, 1, "", "weights"]], "simulator.trading_costs": [[7, 1, 1, "", "LinearCostModel"], [7, 1, 1, "", "TradingCostModel"]], "simulator.trading_costs.LinearCostModel": [[7, 3, 1, "", "bias"], [7, 2, 1, "", "eval"], [7, 3, 1, "", "factor"]], "simulator.trading_costs.TradingCostModel": [[7, 2, 1, "", "eval"]]}, "objtypes": {"0": "py:module", "1": "py:class", "2": "py:method", "3": "py:attribute", "4": "py:function"}, "objnames": {"0": ["py", "module", "Python module"], "1": ["py", "class", "Python class"], "2": ["py", "method", "Python method"], "3": ["py", "attribute", "Python attribute"], "4": ["py", "function", "Python function"]}, "titleterms": {"api": [0, 8], "refer": 0, "simul": [1, 2, 3, 4, 5, 6, 7], "builder": 1, "modul": [1, 2, 4, 5, 6, 7], "content": [1, 2, 4, 5, 6, 7], "class": [1, 4, 6, 7], "function": [1, 2, 5, 6], "grid": 2, "submodul": 3, "metric": 4, "month": 5, "portfolio": 6, "trading_cost": 7, "document": 8, "licens": 9}, "envversion": {"sphinx.domains.c": 2, "sphinx.domains.changeset": 1, "sphinx.domains.citation": 1, "sphinx.domains.cpp": 6, "sphinx.domains.index": 1, "sphinx.domains.javascript": 2, "sphinx.domains.math": 2, "sphinx.domains.python": 3, "sphinx.domains.rst": 2, "sphinx.domains.std": 2, "sphinx.ext.viewcode": 1, "sphinx": 56}})